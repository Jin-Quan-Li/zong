webpackJsonp([31],{602:function(e,a,s){s(763);var t=s(32)(s(674),s(838),"data-v-efad1b54",null);t.options.__file="D:\\Develop\\ZhidanCode\\chuangshi\\web\\src\\views\\cccec\\shop\\shopdetails.vue",t.esModule&&Object.keys(t.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),t.options.functional&&console.error("[vue-loader] shopdetails.vue: functional components are not supported with templates, they should use render functions."),e.exports=t.exports},674:function(e,a,s){Object.defineProperty(a,"__esModule",{value:!0});var t=s(47),i=function(e){return e&&e.__esModule?e:{default:e}}(t),n=s(77);a.default={name:"shopdetails",components:{},data:function(){return{shopdata:[],catIdbox:[],shopstatus:"",shopstatusbox:[{id:0,name:"未审核"},{id:1,name:"通过"},{id:2,name:"不通过"}],shopImageurl:[],shopImage:[],businessLicenseType:[],businessEndDate:[],EndDateday:"",clicklicensedata:!1,clicklicenseurl:"",clicklicensedata2:!1,clicklicenseurl2:"",clickIdCarddata:!1,clickIdCardurl:"",clickIdCarddata2:!1,clickIdCardurl2:"",legelPersonRelationship:[],showInfo:!1,spinShow:!1,names:"",orderoperNo:"",consignee:"",area1Address:"",area1Addresslist:[],area2Address:"",area2Addresslist:[],area3Address:"",area3Addresslist:[],area4Address:"",area4Addresslist:[],orderdetailshouse:"",orderdetailsnumberBuildings:"",delivery_date:"",options3:{disabledDate:function(e){return e&&e.valueOf()<Date.now()}},mobile:"",salesPartnerstage:"",payment_date:"",orderdata:"",status:"",region:"",regiondata:[],delivery_date_time:"",timelist:[{id:"09:00:00",time:"09:00~10:00"},{id:"10:00:00",time:"10:00~11:00"},{id:"11:00:00",time:"11:00~12:00"},{id:"12:00:00",time:"12:00~13:00"},{id:"13:00:00",time:"13:00~14:00"},{id:"14:00:00",time:"14:00~15:00"},{id:"15:00:00",time:"15:00~16:00"},{id:"16:00:00",time:"16:00~17:00"},{id:"17:00:00",time:"17:00~18:00"},{id:"18:00:00",time:"18:00~19:00"}],statusbox:[{id:"0",name:"未收货"},{id:"1",name:"已收货"}],orderType:"",sms_status:"",order_date:"",order_no:"",amount:"",tableloading:!1}},methods:{getcatId:function(){var e=this;(0,n.getshopcatId)().then(function(a){e.catIdbox=a.data})},getarea4:function(){var e=this;(0,n.getareabox)(4).then(function(a){e.area4Addresslist=a.data})},init:function(){var e=this;(0,n.shopdetails)(this.$route.params.id).then(function(a){console.log(a),e.shopdata=a.data,e.businessLicenseType=[],e.legelPersonRelationship=[],e.businessLicenseType.push(String(e.shopdata.businessLicenseType)),e.legelPersonRelationship.push(String(e.shopdata.legelPersonRelationship)),e.businessEndDate=[],e.EndDateday="",null!=e.shopdata.businessEndDate?(e.businessEndDate.push("2"),e.EndDateday=e.shopdata.businessEndDate):e.businessEndDate.push("1"),e.shopImageurl=[];for(var s=1;s<5;s++)null!=a.data["shopImage"+s]&&e.shopImageurl.push({name:"shopImage"+s,url:n.imgurl+a.data["shopImage"+s]});e.clicklicensedata=!1,e.clicklicensedata2=!1,e.clickIdCarddata=!1,e.clickIdCarddata2=!1,e.clicklicenseurl="",e.clicklicenseurl2="",e.clickIdCardurl="",e.clickIdCardurl2="",e.shopdata.businessLicenseImage1&&(e.clicklicensedata=!0,e.clicklicenseurl=n.imgurl+e.shopdata.businessLicenseImage1),e.shopdata.businessLicenseImage2&&(e.clicklicensedata2=!0,e.clicklicenseurl2=n.imgurl+e.shopdata.businessLicenseImage2),e.shopdata.legalPersonIdCardImage1&&(e.clickIdCarddata=!0,e.clickIdCardurl=n.imgurl+e.shopdata.legalPersonIdCardImage1),e.shopdata.legalPersonIdCardImage2&&(e.clickIdCarddata2=!0,e.clickIdCardurl2=n.imgurl+e.shopdata.legalPersonIdCardImage2)})},goback:function(){var e={};if(i.default.openNewPage(this,"shoplist",e),this.$router.push({name:"shoplist",params:e}),this.$store.commit("removeTag","shopdetails"),this.$store.commit("closePage","shopdetails"),localStorage.pageOpenedList=JSON.stringify(this.$store.state.pageOpenedList),"shopdetails"===this.currentPageName){this.$store.state.pageOpenedList.length>1?this.$store.state.pageOpenedList[1].name:this.$store.state.pageOpenedList[0].name,this.$router.push({name:"shoplist"})}},preservation:function(){var e=this;this.spinShow=!0;var a=this,s=new FormData;if(s.append("id",a.$route.params.id),s.append("shopName",a.shopdata.shopName),s.append("phone",a.shopdata.phone),s.append("catId",a.shopdata.catId),s.append("shortDesc",a.shopdata.shortDesc),s.append("status",a.shopdata.status),s.append("address",a.shopdata.address),s.append("isVisiable",0==a.shopdata.isVisiable?"0":"1"),a.shopdata.catId&&s.append("catId",a.shopdata.catId),this.shopImage.length>0)for(var t=0;t<this.shopImage.length;t++)for(var i=0,l=1;l<5;l++)a.shopdata["shopImage"+l]||0!=i||(a.shopdata["shopImage"+l]=a.shopImage[t],s.append("shopImage"+l,a.shopImage[t]),i++,console.log(i));s.append("registerNumber",a.shopdata.registerNumber),s.append("licenseName",a.shopdata.licenseName),s.append("businessLicenseType",a.businessLicenseType[0]),2==this.businessEndDate[0]?(console.log((0,n.dateFormat)(this.EndDateday,"yyyy-MM-dd")),s.append("businessEndDate",(0,n.dateFormat)(this.EndDateday,"yyyy-MM-dd"))):s.append("businessEndDate",""),s.append("businessLicenseImage1",a.shopdata.businessLicenseImage1),s.append("businessLicenseImage2",a.shopdata.businessLicenseImage2),s.append("legelPersonRelationship",a.legelPersonRelationship[0]),s.append("legalPersonIdCardNum",a.shopdata.legalPersonIdCardNum),s.append("legalPersonIdCardImage1",a.shopdata.legalPersonIdCardImage1),s.append("legalPersonIdCardImage2",a.shopdata.legalPersonIdCardImage2),(0,n.updateshopdetails)(s).then(function(s){setTimeout(function(e){e.spinShow=!1},1e3,a),"200"==s.code?(a.$Modal.success({title:"温馨提示",content:"<p>保存成功</p>"}),e.shopImage=[]):a.$Modal.error({title:"温馨提示",content:"<p>"+s.message+"</p>"})})},previewlist:function(){var e=this.$refs.imageList.files[0],a=this;if(e){var s=new FileReader;s.onload=function(s){a.shopImageurl.push({url:s.target.result}),a.shopImage.push(e)},s.readAsDataURL(e)}},imageListView:function(e){},clickbusinessLicenseType:function(e){e.length>1&&(this.businessLicenseType=[],this.businessLicenseType.push(e[1]))},clickbusinessEndDate:function(e){e.length>1&&(this.businessEndDate=[],this.businessEndDate.push(e[1]))},clicklicenseimg:function(){var e=this.$refs.license.files[0],a=this;if(e){a.shopdata.businessLicenseImage1=a.$refs.license.files[0];var s=new FileReader;s.onload=function(e){a.clicklicenseurl=e.target.result,a.clicklicensedata=!0},s.readAsDataURL(e)}},clicklicenseimg2:function(){var e=this.$refs.license2.files[0],a=this;if(e){a.shopdata.businessLicenseImage2=a.$refs.license2.files[0];var s=new FileReader;s.onload=function(e){a.clicklicenseurl2=e.target.result,a.clicklicensedata2=!0},s.readAsDataURL(e)}},clickIdCardimg:function(){var e=this.$refs.IdCard.files[0],a=this;if(e){a.shopdata.legalPersonIdCardImage1=a.$refs.IdCard.files[0];var s=new FileReader;s.onload=function(e){a.clickIdCardurl=e.target.result,a.clickIdCarddata=!0},s.readAsDataURL(e)}},clickIdCardimg2:function(){var e=this.$refs.IdCard2.files[0],a=this;if(e){a.shopdata.legalPersonIdCardImage2=a.$refs.IdCard2.files[0];var s=new FileReader;s.onload=function(e){a.clickIdCardurl2=e.target.result,a.clickIdCarddata2=!0},s.readAsDataURL(e)}},clicklegelPersonRelationship:function(e){e.length>1&&(this.legelPersonRelationship=[],this.legelPersonRelationship.push(e[1]))},delimg:function(e,a){var s=new FormData;s.append("id",this.$route.params.id),s.append(e,""),(0,n.updateshopdetails)(s).then(function(e){})}},created:function(){},mounted:function(){},beforeRouteEnter:function(e,a,s){s(function(e){e.getcatId(),e.init()})},watch:{}}},763:function(e,a){},838:function(e,a,s){e.exports={render:function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",[s("Row",[s("Card",[s("p",{attrs:{slot:"title"},slot:"title"},[s("Icon",{attrs:{type:"compose"}}),e._v("\n                商铺详情\n            ")],1)])],1),e._v(" "),s("Row",[s("Card",[s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("商铺信息")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("商店名称:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入名称..."},model:{value:e.shopdata.shopName,callback:function(a){e.$set(e.shopdata,"shopName",a)},expression:"shopdata.shopName"}})],1),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("联系电话:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.phone,callback:function(a){e.$set(e.shopdata,"phone",a)},expression:"shopdata.phone"}})],1)]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("经营类别:")]),e._v(" "),s("i-select",{attrs:{clearable:"",filterable:""},model:{value:e.shopdata.catId,callback:function(a){e.$set(e.shopdata,"catId",a)},expression:"shopdata.catId"}},e._l(e.catIdbox,function(a){return s("i-option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.name))])}))],1),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("简要描述:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.shortDesc,callback:function(a){e.$set(e.shopdata,"shortDesc",a)},expression:"shopdata.shortDesc"}})],1)]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("商铺状态:")]),e._v(" "),s("i-select",{attrs:{clearable:"",filterable:""},model:{value:e.shopdata.status,callback:function(a){e.$set(e.shopdata,"status",a)},expression:"shopdata.status"}},e._l(e.shopstatusbox,function(a){return s("i-option",{key:a.id,attrs:{value:a.id}},[e._v(e._s(a.name))])}))],1),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("详细地址:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.address,callback:function(a){e.$set(e.shopdata,"address",a)},expression:"shopdata.address"}})],1)]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("显示在附近:")]),e._v(" "),s("div",{staticClass:"ivu-input-wrapper"},[s("i-switch",{model:{value:e.shopdata.isVisiable,callback:function(a){e.$set(e.shopdata,"isVisiable",a)},expression:"shopdata.isVisiable"}})],1)]),e._v(" "),s("div",{staticClass:"informationbox"})]),e._v(" "),s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("门店照片")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",[s("label",[s("div",{staticStyle:{width:"100px",height:"100px","line-height":"100px","text-align":"center",border:"1px solid #cccccc",background:"#fff"}},[s("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),e._v("\n                            上传图片\n                        ")],1),e._v(" "),s("input",{ref:"imageList",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:function(a){e.previewlist()}}})])]),e._v(" "),e._l(e.shopImageurl,function(a,t){return s("div",{staticClass:"imgbox"},[s("img",{staticStyle:{width:"100px",height:"100px"},attrs:{src:a.url},on:{click:function(s){e.imageListView(a)}}}),s("p",{staticClass:"delbtn",on:{click:function(s){e.delimg(a.name,t),e.shopImageurl.splice(t,1)}}},[e._v("删除")])])})],2),e._v(" "),s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("执照资质")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("注册号:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.registerNumber,callback:function(a){e.$set(e.shopdata,"registerNumber",a)},expression:"shopdata.registerNumber"}})],1),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("执照名称:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.licenseName,callback:function(a){e.$set(e.shopdata,"licenseName",a)},expression:"shopdata.licenseName"}})],1)]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("执照类型:")]),e._v(" "),s("p",[s("CheckboxGroup",{on:{"on-change":e.clickbusinessLicenseType},model:{value:e.businessLicenseType,callback:function(a){e.businessLicenseType=a},expression:"businessLicenseType"}},[s("Checkbox",{attrs:{label:"1",value:"1"}},[e._v("个体")]),e._v(" "),s("Checkbox",{attrs:{label:"2",value:"2"}},[e._v("商家")])],1)],1)]),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("营业期限:")]),e._v(" "),s("p",[s("CheckboxGroup",{on:{"on-change":e.clickbusinessEndDate},model:{value:e.businessEndDate,callback:function(a){e.businessEndDate=a},expression:"businessEndDate"}},[s("Checkbox",{attrs:{label:"1",value:"1"}},[e._v("长期有效")]),e._v(" "),s("Checkbox",{attrs:{label:"2",value:"2"}},[e._v("选择日期")])],1),e._v(" "),2==e.businessEndDate[0]?s("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"date",placeholder:"选择日期"},model:{value:e.EndDateday,callback:function(a){e.EndDateday=a},expression:"EndDateday"}}):e._e()],1)])]),e._v(" "),s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("上传营业执照")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"imgbox"},[s("label",[0==e.clicklicensedata?s("div",{staticStyle:{width:"200px",height:"100px","line-height":"100px","text-align":"center",border:"1px solid #cccccc",background:"#fff"}},[s("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),e._v("\n                            上传图片\n                        ")],1):e._e(),e._v(" "),s("input",{ref:"license",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:function(a){e.clicklicenseimg()}}}),e._v(" "),1==e.clicklicensedata?s("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.clicklicenseurl},on:{click:function(a){e.imageListView(e.list1)}}}):e._e()]),e._v(" "),1==e.clicklicensedata?s("p",{staticClass:"delbtn",on:{click:function(a){e.delimg("businessLicenseImage1",e.index),e.clicklicenseurl="",e.clicklicensedata=!1}}},[e._v("删除")]):e._e()]),e._v(" "),s("div",{staticClass:"imgbox",staticStyle:{"margin-left":"20px"}},[s("label",[0==e.clicklicensedata2?s("div",{staticStyle:{width:"200px",height:"100px","line-height":"100px","text-align":"center",border:"1px solid #cccccc",background:"#fff"}},[s("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),e._v("\n                            上传图片\n                        ")],1):e._e(),e._v(" "),s("input",{ref:"license2",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:function(a){e.clicklicenseimg2()}}}),e._v(" "),1==e.clicklicensedata2?s("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.clicklicenseurl2},on:{click:function(a){e.imageListView(e.list1)}}}):e._e()]),e._v(" "),1==e.clicklicensedata2?s("p",{staticClass:"delbtn",on:{click:function(a){e.delimg("businessLicenseImage2",e.index),e.clicklicenseurl2="",e.clicklicensedata2=!1}}},[e._v("删除")]):e._e()])]),e._v(" "),s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("法人资质")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"informationbox"},[s("span",[e._v("与法人关系:")]),e._v(" "),s("p",[s("CheckboxGroup",{on:{"on-change":e.clicklegelPersonRelationship},model:{value:e.legelPersonRelationship,callback:function(a){e.legelPersonRelationship=a},expression:"legelPersonRelationship"}},[s("Checkbox",{attrs:{label:"1",value:"1"}},[e._v("本人")]),e._v(" "),s("Checkbox",{attrs:{label:"2",value:"2"}},[e._v("同事")]),e._v(" "),s("Checkbox",{attrs:{label:"3",value:"3"}},[e._v("其他")])],1)],1)]),e._v(" "),s("div",{staticClass:"informationbox"},[s("span",[e._v("身份证号码:")]),e._v(" "),s("i-input",{attrs:{placeholder:"请输入..."},model:{value:e.shopdata.legalPersonIdCardNum,callback:function(a){e.$set(e.shopdata,"legalPersonIdCardNum",a)},expression:"shopdata.legalPersonIdCardNum"}})],1)]),e._v(" "),s("div",{staticClass:"dataheader"},[s("span",{staticClass:"dataheadertxt"},[e._v("上传法人身份证")])]),e._v(" "),s("div",{staticClass:"inputbox"},[s("div",{staticClass:"imgbox"},[s("label",[0==e.clickIdCarddata?s("div",{staticStyle:{width:"200px",height:"100px","line-height":"100px","text-align":"center",border:"1px solid #cccccc",background:"#fff"}},[s("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),e._v("\n                            上传图片\n                        ")],1):e._e(),e._v(" "),s("input",{ref:"IdCard",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:function(a){e.clickIdCardimg()}}}),e._v(" "),1==e.clickIdCarddata?s("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.clickIdCardurl},on:{click:function(a){e.imageListView(e.list1)}}}):e._e()]),e._v(" "),1==e.clickIdCarddata?s("p",{staticClass:"delbtn",on:{click:function(a){e.delimg("legalPersonIdCardImage1",e.index),e.clickIdCardurl="",e.clickIdCarddata=!1}}},[e._v("删除")]):e._e()]),e._v(" "),s("div",{staticClass:"imgbox",staticStyle:{"margin-left":"20px"}},[s("label",[0==e.clickIdCarddata2?s("div",{staticStyle:{width:"200px",height:"100px","line-height":"100px","text-align":"center",border:"1px solid #cccccc",background:"#fff"}},[s("Icon",{attrs:{type:"ios-cloud-upload-outline",size:"20"}}),e._v("\n                            上传图片\n                        ")],1):e._e(),e._v(" "),s("input",{ref:"IdCard2",staticStyle:{display:"none"},attrs:{type:"file",name:""},on:{change:function(a){e.clickIdCardimg2()}}}),e._v(" "),1==e.clickIdCarddata2?s("img",{staticStyle:{width:"200px",height:"100px"},attrs:{src:e.clickIdCardurl2},on:{click:function(a){e.imageListView(e.list1)}}}):e._e()]),e._v(" "),1==e.clickIdCarddata2?s("p",{staticClass:"delbtn",on:{click:function(a){e.delimg("legalPersonIdCardImage2",e.index),e.clickIdCardurl2="",e.clickIdCarddata2=!1}}},[e._v("删除")]):e._e()])]),e._v(" "),e.spinShow?s("Spin",{attrs:{size:"large",fix:""}}):e._e(),e._v(" "),s("div",{staticClass:"informationbtn"},[s("i-button",{attrs:{type:"warning",icon:""},on:{click:function(a){e.goback()}}},[e._v("返回")]),e._v(" "),s("i-button",{attrs:{type:"info",icon:""},on:{click:function(a){e.preservation()}}},[e._v("保存")])],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});