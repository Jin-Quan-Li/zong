webpackJsonp([36],{596:function(e,t,r){r(710);var s=r(32)(r(668),r(776),"data-v-00a6cf96",null);s.options.__file="D:\\Develop\\ZhidanCode\\chuangshi\\web\\src\\views\\cccec\\order\\orderdetailslist.vue",s.esModule&&Object.keys(s.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),s.options.functional&&console.error("[vue-loader] orderdetailslist.vue: functional components are not supported with templates, they should use render functions."),e.exports=s.exports},668:function(e,t,r){function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Object.defineProperty(t,"__esModule",{value:!0});var a=r(47),o=(function(e){e&&e.__esModule}(a),r(77));t.default={name:"extension",data:function(){var e,t=this;return e={ordertime:[],courierId:"",couriercompanyBox:!1,couriercompanyid:"",address:"",ordertype:"1",ordertypelist:["1"],sendmessagenumber:"",sendmessageday:"",sendmessageshow:!1,merchnatlist:"",merchantlistdata:[],operNameshowdata:!1,OperatorUpdateshow:!1,OperatorNo:"",Operatordata:[],area4show:!1,stageshowdata:!1,housearray:[],houseorderids:[],housearray2:[],areaarray:[],areaarraydata:[],areaIdArray:[],stagearray:[],stagearray2:[],opernamearray:[],orderidarray:[],orderrefund:!1,orderrefundnum:"",maxorderNeedPaidAmount:"",maxorderRefundAmount:"",orderstatusis:"",orderstatusisarray:[],needDateFrom:"",needDateTo:"",tableloading:!1,orderIds:"",usernames:"",userphones:"",innname:"",orderstatus:"2",orderstatuslist:["1","2","3","4","7"],ordertypes:"",goodstypes:"",difference:"",pageCount:0,totalPages:0,pagesizes:20,pageNumber:1,batchUpdateBox:!1,choiceid:0,ids:"",addressids:[],idsarray:[],operarray:[],orderhousedata:"",bindingStagenum:0,notbindingStagenum:0,pdbindingStage:"",orderarea2:"",orderarea3:"",orderarea4:"",orderarea2data:[],orderarea3data:[],orderarea4data:[],couriercompanylist:[],selectOperName:""},s(e,"selectOperName",[]),s(e,"pdbindingoperName",""),s(e,"pdbindingsalesPromoter",""),s(e,"indeterminate",!0),s(e,"checkAll",!1),s(e,"checkAllGroup",[]),s(e,"orderdatalist",[]),s(e,"statusarray",["1","2","3","4","7"]),s(e,"order_status",[]),s(e,"a",""),s(e,"b",""),s(e,"tableCsv",""),s(e,"commodity",""),s(e,"pdbindingoperNamedata",[{id:"1",name:"已绑定"},{id:"2",name:"未绑定"}]),s(e,"pdbindingsalesPromoterdata",[{id:"1",name:"已绑定"},{id:"2",name:"未绑定"}]),s(e,"pdbindingStagedata",[{id:"1",name:"已绑定"},{id:"2",name:"未绑定"}]),s(e,"ordertypedata",[{id:"2",name:"待确认"},{id:"7",name:"已确认"},{id:"3",name:"待收货"},{id:"4",name:"问题件"},{id:"1",name:"已完成"}]),s(e,"orderstatedata",[{id:"1",name:"普通订单"},{id:"2",name:"T+N订单"}]),s(e,"orderreceiptdata",[{id:"0",name:"未收货"},{id:"1",name:"已收货"}]),s(e,"ordertypedata2",[{id:"1",name:"普通"},{id:"2",name:"升级会员"},{id:"3",name:"购买积分"},{id:"4",name:"充值"},{id:"5",name:"OSO"},{id:"6",name:"认领"},{id:"7",name:"已过期"},{id:"8",name:"出让"}]),s(e,"differencedata",[{id:"0",name:"显示全部"},{id:"1",name:"地址有误"}]),s(e,"tableColumns",[{type:"selection",width:60,align:"center"},{title:"订单日期",key:"ord.create_date",width:150,align:"left",render:function(e,t){return e("div",[e("p",t.row["date(ord.create_date)"]),e("p",t.row["ord.order_no"])])}},{title:"供应商",key:"supplier.name",width:100,align:"center"},{title:"地址",width:200,key:"ord.fullAddress",algin:"center",render:function(e,t){return e("div",[e("div",t.row["ord.consignee"]+" "+t.row["ord.mobile"]),e("div",t.row["ord.fullAddress"])])}},{title:"商品名称",width:300,key:"goods.name",algin:"left",render:function(e,t){return e("div",[e("p",t.row["goods.name"])])}},{title:"规格",key:"specValueNames",width:150,algin:"center"},{title:"数量",width:100,key:"quantity",align:"center"},{title:"供货单价",width:100,key:"supplierPrice",algin:"center"},{title:"供货金额",width:100,key:"supplierAmount",algin:"center"},{title:"销售单价",width:100,key:"price",algin:"center"},{title:"销售金额",width:100,key:"amount",align:"left"},{title:"货物状态",key:"ord.order_status",align:"left",width:100,render:function(e,t){return e("div",[e("p",0==t.row["ord.order_status"]?"未付款":1==t.row["ord.order_status"]?"已完成":2==t.row["ord.order_status"]?"待发货":3==t.row["ord.order_status"]?"待收货":4==t.row["ord.order_status"]?"问题件":5==t.row["ord.order_status"]?"已取消":7==t.row["ord.order_status"]?"已确认":"")])}}]),s(e,"tableData",[]),s(e,"operNameColumns",[{type:"selection",width:60,align:"center"},{title:"用户地址",key:"userhouse",width:150,align:"left",render:function(e,r){return e("div",[e("span",""!=t.housearray2[r.row.index]?decodeURI(decodeURI(t.housearray2[r.row.index])):"")])}},{title:"默认分拣人员",key:"userhouse",width:110,align:"left",render:function(e,r){return e("div",[e("span",""!=t.opernamearray[r.row.index]?t.opernamearray[r.row.index]:"没分拣")])}},{title:"匹配地址",key:"fullName",width:150,align:"left"},{title:"匹配分拣人员",key:"oper.operName",width:110,align:"left"},{title:"操作",width:130,key:"ctrl",render:function(e,r){return e("div",[e("Button",{props:{type:"info",size:"small"},on:{click:function(){(0,o.operatorupdateapi)(t.orderidarray[r.row.index],r.row.operNo,r.row["oper.operName"],r.row["oper.operMobile"]).then(function(e){e.success?t.$Message.success("修改成功"):t.$Message.error("修改失败")})}}},"更新")])}}]),s(e,"operNameData",[]),e},mounted:function(){var e=this;if(this.getdetailslist(),sessionStorage.getItem("orderneedDateFroms")&&(console.log(sessionStorage.getItem("orderneedDateFroms")),console.log(sessionStorage.getItem("orderneedDateTos")),this.needDateFrom=sessionStorage.getItem("orderneedDateFroms"),this.needDateTo=sessionStorage.getItem("orderneedDateTos")),sessionStorage.getItem("orderpeoplelists"))this.pageCount=Number(sessionStorage.getItem("peoplepageCounts")),this.linebox=Number(sessionStorage.getItem("peoplelineboxs")),this.pageSizes=this.linebox,this.totalPages=Number(sessionStorage.getItem("peopletotalPages")),this.pageNumber=1,this.getdetailslist(this.pageNumber,this.pageSizes),console.log("执行1");else{this.tableloading=!0;var t=new Date(Date.parse(new Date+864e5));t.getFullYear(),t.getMonth(),t.getDate();(0,o.getdetailslist)(this.pageNumber,this.needDateFrom,this.needDateTo,this.orderstatus,this.commodity).then(function(t){console.log("执行2"+e.pageNumber),e.tableData=t.data.list,e.pageCount=t.data.totalRow,e.totalPages=t.data.totalPage,e.pagesizes=t.data.pageSize,e.tableloading=!1})}},methods:{printdetails:function(){if(""!=this.needDateFrom){sessionStorage.setItem("orderneedDateFroms",this.needDateFrom);sessionStorage.getItem("orderneedDateFroms").indexOf("-")<0&&(this.needDateFrom=this.needDateFrom.getFullYear()+"-"+(this.needDateFrom.getMonth()+1)+"-"+this.needDateFrom.getDate(),this.needDateTo=this.needDateTo.getFullYear()+"-"+(this.needDateTo.getMonth()+1)+"-"+this.needDateTo.getDate(),sessionStorage.setItem("orderneedDateFrom",this.needDateFrom),sessionStorage.setItem("orderneedDateTo",this.needDateTo))}this.orderneedDateFrom=sessionStorage.getItem("orderneedDateFrom"),this.orderneedDateTo=sessionStorage.getItem("orderneedDateTo"),null==this.orderneedDateFrom||""==this.orderneedDateFrom?this.orderneedDateFrom="":this.orderneedDateFrom+=" 00:00:00",null==this.orderneedDateTo||""==this.orderneedDateTo?this.orderneedDateTo="":this.orderneedDateTo+=" 23:59:59",""==this.orderstatus&&(this.orderstatus="1,2,3,4,7"),(0,o.printdetails)(this.orderneedDateFrom,this.orderneedDateTo,this.orderstatus,this.commodity),sessionStorage.setItem("orderneedDateFrom",""),sessionStorage.setItem("orderneedDateTo","")},handleCheckAll:function(){this.indeterminate?this.checkAll=!1:this.checkAll=!this.checkAll,this.indeterminate=!1,this.checkAll?this.orderstatuslist=this.statusarray:this.orderstatuslist=[]},checkAllGroupChange:function(e){console.log("选择的值:"+this.orderstatuslist),6===e.length?(this.indeterminate=!1,this.checkAll=!0):e.length>0?(this.indeterminate=!0,this.checkAll=!1):(this.indeterminate=!1,this.checkAll=!1)},decodeUTF8:function(e){e.replace()},getdetailslist:function(e,t){var r=this;if(console.log(e),sessionStorage.setItem("orderpageNumber",e),this.orderstatuslist.length){console.log("list:"+this.orderstatuslist);for(var s=0;s<this.orderstatuslist.length;s++)this.orderstatus=0==s?this.orderstatuslist[0]:this.orderstatus+","+this.orderstatuslist[s]}else this.orderstatus="";console.log("status:"+this.orderstatus),this.loading=!0,this.tableloading=!0;var a=this;if(a.orderIds&&sessionStorage.setItem("orderIds",a.orderIds),sessionStorage.setItem("orderpageNumber",e),""!=this.needDateFrom&&""==this.needDateTo||""==this.needDateFrom&&""!=this.needDateTo)this.$Modal.warning({title:"温馨提示",content:"请选择时间"});else if(""!=this.needDateFrom){sessionStorage.getItem("orderneedDateFroms");this.needDateFrom=this.needDateFrom.getFullYear()+"-"+(this.needDateFrom.getMonth()+1)+"-"+this.needDateFrom.getDate(),this.needDateTo=this.needDateTo.getFullYear()+"-"+(this.needDateTo.getMonth()+1)+"-"+this.needDateTo.getDate(),sessionStorage.setItem("orderneedDateFroms",this.needDateFrom),sessionStorage.setItem("orderneedDateTos",this.needDateTo)}if(this.ordertypelist.length)for(var s=0;s<this.ordertypelist.length;s++)this.ordertype=0==s?this.ordertypelist[0]:this.ordertype+","+this.ordertypelist[s];else this.ordertype="";""==this.orderstatus&&(this.orderstatus="1,2,3,4,7"),null==this.needDateFrom||""==this.needDateFrom?this.needDateFrom="":this.needDateFrom+="",null==this.needDateTo||""==this.needDateTo?this.needDateTo="":this.needDateTo+="",""==this.orderstatus&&(this.orderstatus="1,2,3,4,7"),(0,o.getdetailslist)(e,this.needDateFrom,this.needDateTo,this.orderstatus,this.commodity).then(function(e){sessionStorage.setItem("orderneedDateFroms",""),sessionStorage.setItem("orderneedDateTos",""),r.tableData=e.data.list,""==e.data.list&&r.$Notice.warning({title:"暂无搜索结果，请核对后查询",desc:""}),r.pageNumber=e.data.pageNumber,r.tableData=e.data.list,r.pageCount=e.data.totalRow,r.totalPages=e.data.totalPage,r.pagesizes=e.data.pageSize,r.tableloading=!1,a.pageNumber=e.data.pageNumber,a.pageCount=e.data.totalRow,a.totalPages=e.data.totalPage,a.pagesizes=e.data.pageSize,sessionStorage.removeItem("orderneedDateFroms"),sessionStorage.removeItem("orderneedDateTos"),sessionStorage.removeItem("orderpeoplelists"),sessionStorage.removeItem("peoplepageCounts"),sessionStorage.removeItem("orderIds"),sessionStorage.removeItem("orderusernames"),sessionStorage.removeItem("orderuserphones"),sessionStorage.removeItem("orderinnname"),sessionStorage.removeItem("orderstatus"),sessionStorage.removeItem("ordertypes"),sessionStorage.removeItem("ordergoodstypes"),sessionStorage.removeItem("peoplelineboxs"),sessionStorage.removeItem("orderdifference"),sessionStorage.removeItem("orderhousedata"),sessionStorage.removeItem("peopletotalPages"),sessionStorage.removeItem("orderSelectArea2"),sessionStorage.removeItem("orderSelectArea3"),sessionStorage.removeItem("orderSelectArea4"),sessionStorage.removeItem("orderpdbindingStage"),sessionStorage.removeItem("orderpdbindingoperName"),sessionStorage.removeItem("orderpdbindingsalesPromoter"),sessionStorage.removeItem("orderselectOperName");var t=JSON.stringify(e.data.list);if(sessionStorage.setItem("orderpeoplelists",t),sessionStorage.setItem("peoplelineboxs",a.pagesizes),sessionStorage.setItem("peopletotalPages",a.totalPages),sessionStorage.setItem("peoplepageCounts",e.data.totalRow),a.needDateFrom){sessionStorage.setItem("orderneedDateFroms",a.needDateFrom);sessionStorage.getItem("orderneedDateFroms").indexOf("-")>0?(sessionStorage.setItem("orderneedDateFroms",a.needDateFrom),sessionStorage.setItem("orderneedDateTos",a.needDateTo)):(sessionStorage.setItem("orderneedDateFroms",a.needDateFrom.getFullYear()+"-"+(a.needDateFrom.getMonth()+1)+"-"+a.needDateFrom.getDate()),sessionStorage.setItem("orderneedDateTos",a.needDateTo.getFullYear()+"-"+(a.needDateTo.getMonth()+1)+"-"+a.needDateTo.getDate()))}})},getcouriercompanylist:function(){var e=this;(0,o.getcouriercompany)().then(function(t){e.couriercompanylist=t.data})}}}},710:function(e,t){},776:function(e,t,r){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("row",[r("card",[r("p",{attrs:{slot:"title"},slot:"title"},[r("icon",{attrs:{type:"ios-list"}}),e._v("订单管理\n            ")],1),e._v(" "),r("div",{staticClass:"sreach"},[r("div",{staticClass:"sreach-page"},[r("div",{staticClass:"sreach-box sreach-box4"},[r("span",[e._v("商品名称:")]),e._v(" "),r("i-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入商品名称...."},model:{value:e.commodity,callback:function(t){e.commodity=t},expression:"commodity"}})],1),e._v(" "),r("div",{staticClass:"sreach-box",staticStyle:{"margin-left":"-200px"}},[r("span",[e._v("时间:")]),e._v(" "),r("Row",[r("Col",{attrs:{span:"11"}},[r("DatePicker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.needDateFrom,callback:function(t){e.needDateFrom=t},expression:"needDateFrom"}})],1),e._v(" "),r("Col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[e._v("-")]),e._v(" "),r("Col",{attrs:{span:"11"}},[r("DatePicker",{attrs:{type:"date",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.needDateTo,callback:function(t){e.needDateTo=t},expression:"needDateTo"}})],1)],1)],1)]),e._v(" "),r("div",{staticClass:"sreach-page"},[r("div",{staticClass:"sreach-box"},[r("span",[e._v("订单状态:")]),e._v(" "),r("div",{staticStyle:{"padding-top":"5px"}},[r("Checkbox",{attrs:{indeterminate:e.indeterminate,value:e.checkAll},nativeOn:{click:function(t){t.preventDefault(),e.handleCheckAll(t)}}},[e._v("全选")])],1),e._v(" "),r("CheckboxGroup",{on:{"on-change":e.checkAllGroupChange},model:{value:e.orderstatuslist,callback:function(t){e.orderstatuslist=t},expression:"orderstatuslist"}},e._l(e.ordertypedata,function(t){return r("Checkbox",{key:t.id,attrs:{value:t.id,"label-in-value":!1,label:t.id}},[e._v(e._s(t.name))])}))],1)]),e._v(" "),r("div",{staticClass:"sreach-page"},[r("div",{staticClass:"sreach-box sreach-box2",staticStyle:{"text-align":"right"}},[r("i-button",{attrs:{type:"info",icon:"ios-search"},on:{click:function(t){e.getdetailslist()}}},[e._v("搜索")]),e._v(" "),r("i-button",{attrs:{type:"info"},on:{click:function(t){e.printdetails()}}},[e._v("导出订单")])],1),e._v(" "),r("div",{staticClass:"sreach-box linenumcss"},[r("p",[e._v("总共 "),r("span",[e._v(e._s(e.pageCount))]),e._v(" 条记录")]),e._v(" "),r("p",[e._v("共 "),r("span",[e._v(e._s(e.totalPages))]),e._v(" 页")]),e._v(" "),r("p",[e._v("每页\n                            "),r("i-input",{staticStyle:{width:"45px"},attrs:{number:"",placeholder:""},model:{value:e.pagesizes,callback:function(t){e.pagesizes=t},expression:"pagesizes"}}),e._v(" 条")],1)])])]),e._v(" "),r("i-table",{ref:"tableCsv",attrs:{columns:e.tableColumns,height:"600",loading:e.tableloading,data:e.tableData,width:"120%"},on:{"on-selection-change":function(e){}}}),e._v(" "),r("div",{staticClass:"page-box",staticStyle:{"text-align":"right","margin-top":"15px"}},[r("page",{attrs:{total:e.pageCount,"page-size":e.pagesizes,current:e.pageNumber,"show-elevator":"","show-total":""},on:{"on-change":e.getdetailslist}})],1)],1)],1)],1)},staticRenderFns:[]},e.exports.render._withStripped=!0}});